@using AdminPanel.Domain.Entities
@model AdminPanel.Domain.Entities.User

<form method="post" asp-action="Edit" asp-controller="Users" asp-route-id="@Model.Id" asp-antiforgery="true" id="editForm">
    <input type="hidden" class="form-control"  name="DateCreated" value="@Model.DateCreated">
    <input type="hidden" class="form-control"  name="DateUpdated" value="@Model.DateUpdated">
    <div class="users">
        <div class="validation" asp-validation-summary="All"></div>
        @if (@Model.Id == 0)
        {
            <h3>Новый пользователь</h3>
        }
        else
        {
            <h3>Редактирование пользователя</h3>
        }
        <div class="mb-3 row">
            <label for="inputName" class="col-sm-1 col-form-label col-md-1">Имя</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputName" name="Name" value="@Model.Name" required minlength="2">
                <span asp-validation-for="Name"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputAge" class="col-sm-1 col-form-label col-md-1">Возраст</label>
            <div class="col-sm-2">
                <input type="number" class="form-control" id="inputAge" name="Age" value="@Model.Age" required max="100">
                <span asp-validation-for="Age"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputCity" class="col-sm-1 col-form-label col-md-1">Город</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputCity" name="City" value="@Model.City" required>
                <span asp-validation-for="City"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputPhone" class="col-sm-1 col-form-label col-md-1">Телефон</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputPhone" name="Phone" value="@Model.Phone" required>
                <span asp-validation-for="Phone"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputRoleId" class="col-sm-1 col-form-label col-md-1">RoleId</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputRoleId" name="RoleId" value="@Model.RoleId" required>
                <span asp-validation-for="RoleId"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputEmail" class="col-sm-1 col-form-label col-md-1">Email</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputEmail" name="Email" value="@Model.Email" required>
                <span asp-validation-for="Email"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputNote" class="col-sm-1 col-form-label col-md-1">Заметки</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="inputNote" name="Note" value="@Model.Note" required>
                <span asp-validation-for="Note"/>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputPassword" class="col-sm-1 col-form-label col-md-1">Password</label>
            <div class="col-sm-2">
                <input type="password" class="form-control" id="inputPassword" name="Password" value="@Model.Password" required>
                <span asp-validation-for="Password"/>
            </div>
        </div>
    </div>
    <div class="custom-buttons">
        <button type="submit" class="btn btn-primary">Сохранить</button>
        <a type="reset" class="btn btn-secondary" href="/Users">Отмена</a>
    </div>
</form>

@section scripts{
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        $("#editForm").validate();
    </script>
}